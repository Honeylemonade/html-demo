<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>获取定位信息失败的处理</title>
    </head>
    <body onload="getLocation()">
        <h3>获取定位信息失败的处理</h3>
        <hr />
        <div id="test">
            坐标获取到会显示在这里
        </div>
        <script>
            var x = document.getElementById("test");
            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition, showError);
                } else {
                    x.innerHTML = "对不起，您的浏览器不支持HTML5地理定位API";
                }
            }

            function showPosition(position) {
                x.innerHTML = "您的纬度是: " + position.coords.latitude + "<br />您的经度是: " + position.coords.longitude;
            }

            function showError(error) {
                switch(error.code) {
                case error.PERMISSION_DENIED:
                    x.innerHTML = "用户拒绝了地理定位的请求。"
                    break;
                case error.POSITION_UNAVAILABLE:
                    x.innerHTML = "位置信息不可用。"
                    break;
                case error.TIMEOUT:
                    x.innerHTML = "请求超时。"
                    break;
                case error.UNKNOWN_ERROR:
                    x.innerHTML = "未知错误发生。"
                    break;
                }
            }
        </script>
    </body>
</html>

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>检测浏览器对HTML5地理定位API的支持情况</title>
    </head>
    <body onload="getLocation()">
        <h3>检测浏览器对HTML5地理定位API的支持情况</h3>
        <hr />
        <div id="detail">
            地理位置信息到会显示在这里
        </div>
        <script>
            var detail = document.getElementById("detail");
			//检测浏览器支持情况，如果支持则获取当前位置
            function getLocation() {
                if (navigator.geolocation) {
					//获取用户当前的定位信息
                    navigator.geolocation.getCurrentPosition(showPosition);
                } else {
                    x.innerHTML = "对不起，您的浏览器不支持HTML5地理定位API";
                }
            }
			//回调函数，用于接收获取的经纬度以及描述信息
            function showPosition(position) {
                var content = "定位信息如下：<br />";
                content += "纬度: " + position.coords.latitude + "°<br />";
                content += "经度: " + position.coords.longitude + "°<br />";
                content += "位置精确度: " + position.coords.accuracy + "<br />";
                content += "海拔: " + position.coords.altitude + " 米<br />";
                content += "海拔精度: " + position.coords.altitudeAccurary+"<br />";
                content += "方向: " + position.coords.heading + "°<br />";
                content += "速度: " + position.coords.speed + " m/s";

                detail.innerHTML = content;
            }
        </script>
    </body>
</html>
